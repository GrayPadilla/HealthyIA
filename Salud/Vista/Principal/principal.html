<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Healthy IA</title>
  <link rel="icon" type="image/jpeg" href="../../imagenes/logo.jpg">
  <link rel="shortcut icon" type="image/jpeg" href="../../imagenes/logo.jpg">
  <link rel="stylesheet" href="principal.css" />
</head>
<body>

  <!-- PRIMERA SECCI√ìN -->
  <section class="hero">
    <header>
      <div class="logo">
        <a href="../Principal/principal.html" style="display: flex; align-items: center; gap: 10px; text-decoration: none; color: inherit;">
          <img src="../../imagenes/logo.jpg" alt="logo" />
          <h2>Healthy IA</h2>
        </a>
      </div>
      <nav>
        <a href="../Principal/principal.html">Home</a>
        <a href="../sobre-nosotros/sobre-nosotros.html">Sobre nosotros</a>
        <a href="../como-usar/como-usar.html">C√≥mo usar</a>
        <button class="login" data-mode="login">Login</button>
        <button class="register" data-mode="register">Reg√≠strate</button>
      </nav>
    </header>

    <div class="hero-content">
      <div class="text">
        <p class="welcome">Bienvenido <span>Juan ‚ù§Ô∏è</span></p>
        <h1><span>Soluci√≥n en un solo paso</span><br>para todas tus <b>necesidades</b></h1>
        <p>Utilizando tu √≠ndice IMC calculamos si el plato es adecuado para ti.</p>
        <div class="search-container">
          <div class="search-bar">
            <input type="text" id="searchInput" placeholder="Busca tu comida saludable..." autocomplete="off" />
            <div class="icons">
              <i class="icon-voice" title="B√∫squeda por voz">üé§</i>
              <i class="icon-camera" title="B√∫squeda por imagen">üì∑</i>
              <i class="icon-search" title="Buscar">üîç</i>
            </div>
          </div>
          <div id="searchResults" class="search-results"></div>
        </div>
      </div>

      <div class="image">
        <img src="../../imagenes/doctor.jpg" alt="doctor" />
      </div>
    </div>
  </section>

  <!-- SEGUNDA SECCI√ìN -->
  <section class="features fade-section">
    <h3>Caracter√≠sticas que ofrecemos</h3>
    <div class="features-container">
      <div class="feature">
        <h4>Calcula tu IMC f√°cil üíô</h4>
        <p>Calculamos tu √≠ndice IMC a partir de datos como edad, altura y peso.</p>
      </div>
      <div class="feature">
        <h4>Comidas Recomendadas üçΩÔ∏è</h4>
        <p>Proporcionamos recomendaciones alimentarias seg√∫n tus requerimientos cal√≥ricos.</p>
      </div>
      <div class="feature">
        <h4>Valor Nutricional üìä</h4>
        <p>Obt√©n todos los valores nutricionales de tu plato preferido.</p>
      </div>
      <div class="feature">
        <h4>Chat con ALISSA IA ü§ñ</h4>
        <p>Resuelve tus dudas interactuando con nuestro bot IA.</p>
      </div>
    </div>

    <h3 class="topic">Temas de ayuda</h3>
    <h2>Men√∫s disponibles</h2>
    
    <!-- Filtros por categor√≠a -->
    <div class="filter-tabs" style="display: flex; gap: 10px; justify-content: center; margin: 20px 0; flex-wrap: wrap;">
      <button class="filter-btn active" data-category="todos" style="padding: 10px 20px; border: 2px solid #2b7cff; background: #2b7cff; color: white; border-radius: 8px; cursor: pointer; font-weight: 600;">Todos</button>
      <button class="filter-btn" data-category="Desayuno" style="padding: 10px 20px; border: 2px solid #2b7cff; background: white; color: #2b7cff; border-radius: 8px; cursor: pointer; font-weight: 600;">üåÖ Desayuno</button>
      <button class="filter-btn" data-category="Almuerzo" style="padding: 10px 20px; border: 2px solid #2b7cff; background: white; color: #2b7cff; border-radius: 8px; cursor: pointer; font-weight: 600;">‚òÄÔ∏è Almuerzo</button>
      <button class="filter-btn" data-category="Cena" style="padding: 10px 20px; border: 2px solid #2b7cff; background: white; color: #2b7cff; border-radius: 8px; cursor: pointer; font-weight: 600;">üåô Cena</button>
    </div>
    
    <div id="menus-container">
      <!-- Los men√∫s se cargar√°n din√°micamente desde Firebase agrupados por categor√≠a -->
    </div>
  </section>

  <!-- Bot√≥n de Modo Oscuro/Claro -->
  <button type="button" id="darkModeToggle" class="dark-mode-toggle" aria-label="Cambiar modo oscuro/claro">
    <span class="toggle-icon">üåô</span>
    <span class="toggle-text">Modo Oscuro</span>
  </button>

  <!-- üìä Cargar sistema de m√©tricas primero -->
  <script src="../../Controlador/metricas.js"></script>
  <!-- Cargar Firebase antes de principal.js -->
  <script type="module" src="../../Controlador/firebase.js"></script>
  <script type="module" src="../../Controlador/C-Principal/principal.js"></script>
  <script src="../../Controlador/C-asistente-ia/chatbot-widget.js"></script>
  
  <!-- Script adicional para asegurar que el bot√≥n de modo oscuro funcione -->
  <script>
    // Asegurar que el bot√≥n funcione incluso si el m√≥dulo falla
    document.addEventListener('DOMContentLoaded', function() {
      const darkModeToggle = document.getElementById('darkModeToggle');
      if (darkModeToggle) {
        darkModeToggle.addEventListener('click', function(e) {
          e.preventDefault();
          e.stopPropagation();
          document.body.classList.toggle('dark-mode');
          const isDark = document.body.classList.contains('dark-mode');
          const icon = this.querySelector('.toggle-icon');
          const text = this.querySelector('.toggle-text');
          if (icon && text) {
            icon.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
            text.textContent = isDark ? 'Modo Claro' : 'Modo Oscuro';
          }
          localStorage.setItem('darkMode', isDark ? 'enabled' : 'disabled');
        });
        
        // Cargar estado guardado
        const savedMode = localStorage.getItem('darkMode');
        if (savedMode === 'enabled') {
          document.body.classList.add('dark-mode');
          const icon = darkModeToggle.querySelector('.toggle-icon');
          const text = darkModeToggle.querySelector('.toggle-text');
          if (icon && text) {
            icon.textContent = '‚òÄÔ∏è';
            text.textContent = 'Modo Claro';
          }
        }
      }
    });
  </script>
</body>
</html>
